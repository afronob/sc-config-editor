<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test du filtre Hold Mode</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        table { border-collapse: collapse; width: 100%; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #f2f2f2; }
        .filter-section { margin: 20px 0; padding: 10px; background-color: #f9f9f9; }
    </style>
</head>
<body>
    <h1>Test du système de filtres</h1>
    
    <!-- Filtres -->
    <div class="filter-section">
        <b>Filtres</b><br>
        <label><input type="checkbox" id="filter-nonempty"> Afficher seulement les bindings non vides</label><br>
        <label><input type="checkbox" id="filter-hold"> Afficher seulement les inputs en mode Hold</label>
    </div>

    <!-- Table de test avec différents types de bindings -->
    <table id="bindings-table">
        <tr>
            <th>category</th>
            <th>action</th>
            <th>name</th>
            <th>input</th>
            <th>opts</th>
            <th>value</th>
        </tr>
        <!-- Binding vide -->
        <tr>
            <td>spaceship_movement</td>
            <td>v_pitch</td>
            <td>Tangage</td>
            <td><input name="input[0]" value="" /></td>
            <td><input name="opts[0]" value="" /></td>
            <td><input name="value[0]" value="" /></td>
        </tr>
        <!-- Binding normal (non hold) -->
        <tr>
            <td>spaceship_movement</td>
            <td>v_yaw</td>
            <td>Lacet</td>
            <td><input name="input[1]" value="js1_button1" /></td>
            <td><input name="opts[1]" value="activationmode" /></td>
            <td><input name="value[1]" value="press" /></td>
        </tr>
        <!-- Binding en mode hold -->
        <tr>
            <td>spaceship_movement</td>
            <td>v_roll</td>
            <td>Roulis</td>
            <td><input name="input[2]" value="js1_button2" /></td>
            <td><input name="opts[2]" value="activationmode" /></td>
            <td><input name="value[2]" value="hold" /></td>
        </tr>
        <!-- Binding vide avec préfixe -->
        <tr>
            <td>spaceship_movement</td>
            <td>v_strafe_forward</td>
            <td>Avancer</td>
            <td><input name="input[3]" value="js1_" /></td>
            <td><input name="opts[3]" value="" /></td>
            <td><input name="value[3]" value="" /></td>
        </tr>
        <!-- Autre binding en mode hold -->
        <tr>
            <td>spaceship_weapons</td>
            <td>v_weapon_group_1</td>
            <td>Arme groupe 1</td>
            <td><input name="input[4]" value="kb1_space" /></td>
            <td><input name="opts[4]" value="activationmode" /></td>
            <td><input name="value[4]" value="HOLD" /></td>
        </tr>
        <!-- Binding double_tap (pas hold) -->
        <tr>
            <td>spaceship_movement</td>
            <td>v_boost</td>
            <td>Boost</td>
            <td><input name="input[5]" value="js1_button3" /></td>
            <td><input name="opts[5]" value="activationmode" /></td>
            <td><input name="value[5]" value="double_tap" /></td>
        </tr>
    </table>

    <script type="module">
        import { FilterHandler } from './assets/js/modules/filterHandler.js';
        
        // Initialiser le gestionnaire de filtres
        const filterHandler = new FilterHandler();
        
        console.log('Test du filtre Hold Mode initialisé');
        
        // Ajouter des logs pour débugger
        document.getElementById('filter-nonempty').addEventListener('change', (e) => {
            console.log('Filtre non-vide:', e.target.checked);
        });
        
        document.getElementById('filter-hold').addEventListener('change', (e) => {
            console.log('Filtre hold:', e.target.checked);
        });
    </script>
</body>
</html>
