<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Am√©lioration UX - Step2 Devices</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .test-section { margin: 20px 0; padding: 15px; border: 1px solid #ddd; border-radius: 5px; }
        .log { background: #f5f5f5; padding: 10px; margin: 5px 0; border-radius: 3px; font-family: monospace; }
        .success { background: #d4edda; border: 1px solid #c3e6cb; }
        .error { background: #f8d7da; border: 1px solid #f5c6cb; }
        .info { background: #d1ecf1; border: 1px solid #bee5eb; }
        .btn { padding: 10px 15px; margin: 5px; border: none; border-radius: 5px; cursor: pointer; }
        .btn-primary { background: #007bff; color: white; }
        .btn-secondary { background: #6c757d; color: white; }
        
        /* Simulation des styles de step2_devices.php */
        .devices-grid {
            display: none;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
            padding: 20px;
            border: 2px solid #007bff;
            border-radius: 8px;
            background: #f8f9fa;
        }
        
        .devices-grid.visible {
            display: grid;
        }
        
        .detection-invitation {
            text-align: center;
            padding: 40px 20px;
            color: #666;
            background: #f8f9fa;
            border: 2px dashed #dee2e6;
            border-radius: 8px;
            margin: 20px 0;
        }
        
        .devices-section {
            padding: 15px;
            background: white;
            border-radius: 5px;
            border: 1px solid #ddd;
        }
    </style>
</head>
<body>
    <h1>üéØ Test Am√©lioration UX - Affichage conditionnel des dispositifs</h1>
    
    <div class="test-section">
        <h2>Simulation de l'interface Step2</h2>
        <p>Test de l'affichage/masquage de la section devices-grid</p>
        
        <button class="btn btn-primary" onclick="simulateDetection()">
            üîç D√©tecter les dispositifs connect√©s
        </button>
        
        <button class="btn btn-secondary" onclick="resetInterface()">
            üîÑ R√©initialiser l'interface
        </button>
    </div>
    
    <div class="test-section">
        <div id="detectionStatus" class="log info">√âtat initial : Section des dispositifs masqu√©e</div>
    </div>
    
    <!-- Simulation de l'interface -->
    <div class="detection-invitation" id="detectionInvitation">
        <div style="font-size: 48px; margin-bottom: 15px;">üéÆ</div>
        <h4 style="margin-bottom: 10px; color: #495057;">Dispositifs en attente de d√©tection</h4>
        <p style="margin: 0;">Cliquez sur "D√©tecter les dispositifs connect√©s" ci-dessus pour voir vos manettes et contr√¥leurs.</p>
    </div>
    
    <div class="devices-grid" id="devicesGrid">
        <div class="devices-section">
            <h4>‚úÖ Dispositifs reconnus (2)</h4>
            <div style="padding: 10px; background: #e7f3ff; border-radius: 3px; margin: 5px 0;">
                <strong>Saitek Pro Flight X-56 Rhino Throttle</strong><br>
                <small>Instance: 0738_a221 | Status: Configur√©</small>
            </div>
            <div style="padding: 10px; background: #e7f3ff; border-radius: 3px; margin: 5px 0;">
                <strong>Thrustmaster T.16000M FCS</strong><br>
                <small>Instance: 044f_b10a | Status: Configur√©</small>
            </div>
        </div>
        
        <div class="devices-section">
            <h4>üÜï Nouveaux dispositifs (1)</h4>
            <div style="padding: 10px; background: #fff3cd; border-radius: 3px; margin: 5px 0;">
                <strong>Logitech Extreme 3D Pro</strong><br>
                <small>GUID: {12345678-1234...} | Status: Nouveau</small><br>
                <button class="btn btn-primary" style="margin-top: 5px; font-size: 12px;">Configurer</button>
            </div>
        </div>
    </div>

    <script>
        function simulateDetection() {
            const devicesGrid = document.getElementById('devicesGrid');
            const detectionInvitation = document.getElementById('detectionInvitation');
            const status = document.getElementById('detectionStatus');
            
            // Masquer l'invitation
            detectionInvitation.style.display = 'none';
            
            // Afficher la grille
            devicesGrid.classList.add('visible');
            
            status.className = 'log success';
            status.innerHTML = '‚úÖ D√©tection effectu√©e : Section des dispositifs affich√©e, invitation masqu√©e';
        }
        
        function resetInterface() {
            const devicesGrid = document.getElementById('devicesGrid');
            const detectionInvitation = document.getElementById('detectionInvitation');
            const status = document.getElementById('detectionStatus');
            
            // Afficher l'invitation
            detectionInvitation.style.display = 'block';
            
            // Masquer la grille
            devicesGrid.classList.remove('visible');
            
            status.className = 'log info';
            status.innerHTML = 'üîÑ Interface r√©initialis√©e : Section des dispositifs masqu√©e, invitation affich√©e';
        }
        
        // Test automatique au chargement
        window.addEventListener('load', () => {
            setTimeout(() => {
                const status = document.getElementById('detectionStatus');
                const isGridVisible = document.getElementById('devicesGrid').classList.contains('visible');
                const isInvitationVisible = document.getElementById('detectionInvitation').style.display !== 'none';
                
                if (!isGridVisible && isInvitationVisible) {
                    status.className = 'log success';
                    status.innerHTML = '‚úÖ Test initial r√©ussi : Grille masqu√©e, invitation visible par d√©faut';
                } else {
                    status.className = 'log error';
                    status.innerHTML = '‚ùå Test initial √©chou√© : √âtat inattendu de l\'interface';
                }
            }, 100);
        });
    </script>
</body>
</html>
